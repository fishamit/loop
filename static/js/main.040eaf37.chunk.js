(this.webpackJsonploop=this.webpackJsonploop||[]).push([[0],{11:function(e,t,a){e.exports={padContainer:"Pad_padContainer__RFwno",pad:"Pad_pad__1E5sQ"}},20:function(e,t,a){},22:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a.n(n),i=a(13),o=a.n(i),s=(a(20),a(12)),r=a(14),d=a(6),l=a(7),u=a(3),b=a.n(u),j=a(11),p=a.n(j),m=a(1),O={border:"2px solid rgb(187, 187, 187)",boxShadow:"0 0 20px rgba(187, 187, 187, 0.281)",textShadow:"0 0 10px rgba(187, 187, 187, 0.281)",color:"rgb(187, 187, 187)"},h={border:"2px solid rgb(0, 200, 0)",boxShadow:"0 0 40px rgba(0, 200, 0, 0.581)",textShadow:"0 0 20px rgba(0, 200, 0, 0.581)",color:"rgb(0, 200, 0)"},f=function(e){var t=e.name,a=e.togglePlaying,n=e.index,c=e.playing,i=e.addRecord,o=e.recording;return Object(m.jsx)("div",{className:p.a.padContainer,children:Object(m.jsx)("div",{className:p.a.pad,onClick:function(){a(n),o&&i({type:"togglePlaying",index:n})},style:c?h:O,children:Object(m.jsx)("h3",{children:t})})})},g=a.p+"static/media/drums1.5eb417fc.mp3",x=a.p+"static/media/drums2.37c82282.mp3",y=a.p+"static/media/drums3.27bdc145.mp3",v=a.p+"static/media/drums4.f77c6da4.mp3",C=a.p+"static/media/bass.52c24c81.mp3",S=a.p+"static/media/fx.2d08c654.mp3",w=a.p+"static/media/tanggu.3e1411b4.mp3",_=a.p+"static/media/guitar.230fcab8.mp3",N=a.p+"static/media/synth.f2d668af.mp3";var A=a(5),k=a(15),P=a(9),T=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),o=Object(l.a)(i,2),u=o[0],j=o[1],p=Object(n.useState)(!1),O=Object(l.a)(p,2),h=O[0],T=O[1],E=Object(n.useState)([]),D=Object(l.a)(E,2),I=D[0],R=D[1],G=Object(n.useState)(!1),J=Object(l.a)(G,2),F=J[0],B=J[1],L=Object(n.useRef)(null);Object(n.useEffect)((function(){c(function(){var e=[];return e.push({audioObject:new Audio(g),name:"Drums 1",state:!1}),e.push({audioObject:new Audio(x),name:"Drums 2",state:!1}),e.push({audioObject:new Audio(y),name:"Drums 3",state:!1}),e.push({audioObject:new Audio(v),name:"Drums 4",state:!1}),e.push({audioObject:new Audio(C),name:"Bass",state:!1}),e.push({audioObject:new Audio(S),name:"FX",state:!1}),e.push({audioObject:new Audio(w),name:"Tanggu",state:!1}),e.push({audioObject:new Audio(_),name:"Guitar",playing:!1}),e.push({audioObject:new Audio(N),name:"Synth",state:!1}),e}())}),[]);var Y=function(e){var t=Object(d.a)(a);t[e].playing=!t[e].playing,t[e.playing]||(t[e].audioObject.pause(),t[e].audioObject.currentTime=0),t.filter((function(e){return e.playing})).length||Q(),c(t)},z=function(){var e=Object(d.a)(a);e.forEach((function(e){return e.playing=!1})),c(e)},K=function(){a.forEach((function(e){e.playing&&e.audioObject.play()}))},M=function(){var e=Object(d.a)(a);e.forEach((function(e){e.playing&&(e.audioObject.pause(),e.audioObject.currentTime=0)})),c(e)},Q=function(){j(!1),M(),clearInterval(L.current)},X=function(){j(!0),K(),L.current=setInterval((function(){M(),K()}),8e3)},q=function(e){var t=(new Date).getTime(),a=[].concat(Object(d.a)(I),[Object(s.a)(Object(s.a)({},e),{},{time:t-I[0].time})]);R(a)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:b.a.looperContainer,children:[Object(m.jsxs)("div",{className:b.a.dashboard,children:[Object(m.jsxs)("div",{className:b.a.dashboardGroup,children:[Object(m.jsx)("p",{className:b.a.label,children:"Loop controls"}),Object(m.jsxs)("div",{className:b.a.buttonsContainer,children:[Object(m.jsx)("button",{title:"Play",onClick:function(){X(),h&&q({type:"masterPlay"})},disabled:u,children:Object(m.jsx)(A.a,{})}),Object(m.jsx)("button",{title:"Stop",onClick:function(){Q(),h&&q({type:"masterStop"})},disabled:!u,children:Object(m.jsx)(A.b,{})})]})]}),Object(m.jsxs)("div",{className:b.a.dashboardGroup,children:[Object(m.jsx)("p",{className:b.a.label,children:"Record/Play"}),Object(m.jsxs)("div",{className:b.a.buttonsContainer,children:[Object(m.jsx)("button",{title:"Record",onClick:function(){h?T(!1):function(){z();var e=[{time:(new Date).getTime()}];R(e),T(!0)}()},children:h?Object(m.jsx)(A.b,{color:"red"}):Object(m.jsx)(k.a,{color:"red"})}),Object(m.jsx)("button",{disabled:!(!h&&I.length>1)||F,title:"Play recording",onClick:function(){!function(){z(),B(!0);for(var e=function(e){switch(I[e].type){case"masterPlay":setTimeout((function(){X(),e===I.length-1&&B(!1)}),I[e].time);break;case"masterStop":setTimeout((function(){Q(),e===I.length-1&&B(!1)}),I[e].time);break;default:setTimeout((function(){Y(I[e].index),e===I.length-1&&B(!1)}),I[e].time)}},t=1;t<I.length;t++)e(t)}()},children:Object(m.jsx)(A.a,{})})]})]}),Object(m.jsxs)("div",{className:b.a.dashboardGroup,children:[Object(m.jsx)("p",{className:b.a.label,children:"Save/load"}),Object(m.jsxs)("div",{className:b.a.buttonsContainer,children:[Object(m.jsx)("button",{title:"Save",onClick:function(){!function(){var e=[];a.forEach((function(t,a){t.playing&&e.push(a)})),localStorage.setItem("data",JSON.stringify(e))}()},children:Object(m.jsx)(P.b,{})}),Object(m.jsx)("button",{title:"Load",onClick:function(){!function(){var e,t=JSON.parse(localStorage.getItem("data")),n=Object(d.a)(a),i=Object(r.a)(t);try{for(i.s();!(e=i.n()).done;)n[e.value].playing=!0}catch(o){i.e(o)}finally{i.f()}c(n)}()},children:Object(m.jsx)(P.a,{})})]})]})]}),Object(m.jsx)("div",{className:b.a.padsContainer,children:a.map((function(e,t){return Object(m.jsx)(f,{index:t,togglePlaying:Y,name:e.name,playing:e.playing,addRecord:q,recording:h},e.name)}))})]})})};o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(T,{})}),document.getElementById("root"))},3:function(e,t,a){e.exports={padsContainer:"App_padsContainer__1KYc6",looperContainer:"App_looperContainer__2eOzY",label:"App_label__3IcPy",dashboard:"App_dashboard__3gTyC"}}},[[22,1,2]]]);
//# sourceMappingURL=main.040eaf37.chunk.js.map